{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\AMAN MAURYA\\\\OneDrive\\\\Desktop\\\\now\\\\src\\\\pages\\\\GoogleAuthSuccess.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst GoogleAuthSuccess = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    login\n  } = useAuth();\n  const [searchParams] = useSearchParams();\n  useEffect(() => {\n    const token = searchParams.get('token');\n    const userStr = searchParams.get('user');\n    if (token && userStr) {\n      try {\n        const user = JSON.parse(decodeURIComponent(userStr));\n        login(token, user);\n\n        // Check if user needs to complete profile\n        if (!user.phone || !user.role || user.role === 'patient' && !user.age) {\n          navigate('/complete-profile');\n        } else {\n          // Redirect to appropriate dashboard\n          if (user.role === 'patient') navigate('/patient');else if (user.role === 'practitioner') navigate('/practitioner');else navigate('/admin');\n        }\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n        navigate('/login?error=auth_failed');\n      }\n    } else {\n      navigate('/login?error=auth_failed');\n    }\n  }, [searchParams, login, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-ayur-light via-white to-ayur-accent/20 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-16 h-16 border-4 border-ayur-primary border-t-transparent rounded-full animate-spin mx-auto mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-ayur-primary font-medium\",\n        children: \"Completing Google Sign In...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(GoogleAuthSuccess, \"ZI28EOtziaiF2oxUkXuK8X8yyfg=\", false, function () {\n  return [useNavigate, useAuth, useSearchParams];\n});\n_c = GoogleAuthSuccess;\nexport default GoogleAuthSuccess;\nvar _c;\n$RefreshReg$(_c, \"GoogleAuthSuccess\");","map":{"version":3,"names":["React","useEffect","useNavigate","useSearchParams","useAuth","jsxDEV","_jsxDEV","GoogleAuthSuccess","_s","navigate","login","searchParams","token","get","userStr","user","JSON","parse","decodeURIComponent","phone","role","age","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["c:/Users/AMAN MAURYA/OneDrive/Desktop/now/src/pages/GoogleAuthSuccess.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst GoogleAuthSuccess = () => {\n  const navigate = useNavigate();\n  const { login } = useAuth();\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const token = searchParams.get('token');\n    const userStr = searchParams.get('user');\n\n    if (token && userStr) {\n      try {\n        const user = JSON.parse(decodeURIComponent(userStr));\n        login(token, user);\n\n        // Check if user needs to complete profile\n        if (!user.phone || !user.role || user.role === 'patient' && !user.age) {\n          navigate('/complete-profile');\n        } else {\n          // Redirect to appropriate dashboard\n          if (user.role === 'patient') navigate('/patient');\n          else if (user.role === 'practitioner') navigate('/practitioner');\n          else navigate('/admin');\n        }\n      } catch (error) {\n        console.error('Error parsing user data:', error);\n        navigate('/login?error=auth_failed');\n      }\n    } else {\n      navigate('/login?error=auth_failed');\n    }\n  }, [searchParams, login, navigate]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-ayur-light via-white to-ayur-accent/20 flex items-center justify-center\">\n      <div className=\"text-center\">\n        <div className=\"w-16 h-16 border-4 border-ayur-primary border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n        <p className=\"text-ayur-primary font-medium\">Completing Google Sign In...</p>\n      </div>\n    </div>\n  );\n};\n\nexport default GoogleAuthSuccess;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,eAAe,QAAQ,kBAAkB;AAC/D,SAASC,OAAO,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC9B,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEQ;EAAM,CAAC,GAAGN,OAAO,CAAC,CAAC;EAC3B,MAAM,CAACO,YAAY,CAAC,GAAGR,eAAe,CAAC,CAAC;EAExCF,SAAS,CAAC,MAAM;IACd,MAAMW,KAAK,GAAGD,YAAY,CAACE,GAAG,CAAC,OAAO,CAAC;IACvC,MAAMC,OAAO,GAAGH,YAAY,CAACE,GAAG,CAAC,MAAM,CAAC;IAExC,IAAID,KAAK,IAAIE,OAAO,EAAE;MACpB,IAAI;QACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACJ,OAAO,CAAC,CAAC;QACpDJ,KAAK,CAACE,KAAK,EAAEG,IAAI,CAAC;;QAElB;QACA,IAAI,CAACA,IAAI,CAACI,KAAK,IAAI,CAACJ,IAAI,CAACK,IAAI,IAAIL,IAAI,CAACK,IAAI,KAAK,SAAS,IAAI,CAACL,IAAI,CAACM,GAAG,EAAE;UACrEZ,QAAQ,CAAC,mBAAmB,CAAC;QAC/B,CAAC,MAAM;UACL;UACA,IAAIM,IAAI,CAACK,IAAI,KAAK,SAAS,EAAEX,QAAQ,CAAC,UAAU,CAAC,CAAC,KAC7C,IAAIM,IAAI,CAACK,IAAI,KAAK,cAAc,EAAEX,QAAQ,CAAC,eAAe,CAAC,CAAC,KAC5DA,QAAQ,CAAC,QAAQ,CAAC;QACzB;MACF,CAAC,CAAC,OAAOa,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChDb,QAAQ,CAAC,0BAA0B,CAAC;MACtC;IACF,CAAC,MAAM;MACLA,QAAQ,CAAC,0BAA0B,CAAC;IACtC;EACF,CAAC,EAAE,CAACE,YAAY,EAAED,KAAK,EAAED,QAAQ,CAAC,CAAC;EAEnC,oBACEH,OAAA;IAAKkB,SAAS,EAAC,6GAA6G;IAAAC,QAAA,eAC1HnB,OAAA;MAAKkB,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BnB,OAAA;QAAKkB,SAAS,EAAC;MAAoG;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC1HvB,OAAA;QAAGkB,SAAS,EAAC,+BAA+B;QAAAC,QAAA,EAAC;MAA4B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1E;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACrB,EAAA,CAxCID,iBAAiB;EAAA,QACJL,WAAW,EACVE,OAAO,EACFD,eAAe;AAAA;AAAA2B,EAAA,GAHlCvB,iBAAiB;AA0CvB,eAAeA,iBAAiB;AAAC,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}