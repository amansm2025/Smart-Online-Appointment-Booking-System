{"ast":null,"code":"var _jsxFileName = \"c:\\\\Users\\\\AMAN MAURYA\\\\OneDrive\\\\Desktop\\\\now\\\\src\\\\pages\\\\Booking.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Card from '../components/common/Card';\nimport GlobalHeader from '../components/common/GlobalHeader';\nimport GlobalFooter from '../components/common/GlobalFooter';\nimport { TIME_SLOTS } from '../constants';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Booking = () => {\n  _s();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    therapy: '',\n    practitioner: '',\n    date: '',\n    timeSlot: '',\n    notes: ''\n  });\n  const [selectedPractitioner, setSelectedPractitioner] = useState(null);\n  const [practitioners, setPractitioners] = useState([]);\n  const [therapies, setTherapies] = useState([]);\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    fetchPractitioners();\n    fetchTherapies();\n  }, []);\n  useEffect(() => {\n    if (formData.practitioner && formData.date) {\n      fetchAvailableSlots();\n    }\n  }, [formData.practitioner, formData.date]);\n  const fetchPractitioners = async () => {\n    try {\n      const response = await api.get('/practitioners');\n      setPractitioners(response.data.data.practitioners);\n    } catch (error) {\n      console.error('Error fetching practitioners:', error);\n    }\n  };\n  const fetchTherapies = async () => {\n    try {\n      var _response$data$data;\n      const response = await api.get('/therapies');\n      console.log('Therapies response:', response.data);\n\n      // Handle different response structures\n      const therapiesData = ((_response$data$data = response.data.data) === null || _response$data$data === void 0 ? void 0 : _response$data$data.therapies) || response.data.therapies || response.data || [];\n      setTherapies(therapiesData);\n    } catch (error) {\n      console.error('Error fetching therapies:', error);\n      // Set default therapies if API fails\n      setTherapies([{\n        name: 'Abhyanga',\n        price: 2500,\n        description: 'Full body oil massage'\n      }, {\n        name: 'Shirodhara',\n        price: 3000,\n        description: 'Oil pouring therapy'\n      }, {\n        name: 'Panchakarma',\n        price: 5000,\n        description: 'Complete detox program'\n      }]);\n    }\n  };\n  const fetchAvailableSlots = async () => {\n    try {\n      const response = await api.get(`/practitioners/available-slots?practitionerId=${formData.practitioner}&date=${formData.date}`);\n      setAvailableSlots(response.data.data.availableSlots);\n    } catch (error) {\n      console.error('Error fetching available slots:', error);\n      setAvailableSlots(TIME_SLOTS); // Fallback to all slots\n    }\n  };\n  const calculatePrice = () => {\n    var _therapy$durations, _therapy$durations$;\n    const therapy = therapies.find(t => t.name === formData.therapy || t._id === formData.therapy);\n    return therapy ? ((_therapy$durations = therapy.durations) === null || _therapy$durations === void 0 ? void 0 : (_therapy$durations$ = _therapy$durations[0]) === null || _therapy$durations$ === void 0 ? void 0 : _therapy$durations$.price) || therapy.price || 0 : 0;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      var _selectedTherapy$dura, _selectedTherapy$dura2;\n      const appointmentData = {\n        practitioner: formData.practitioner,\n        therapy: formData.therapy,\n        date: formData.date,\n        timeSlot: formData.timeSlot,\n        notes: formData.notes\n      };\n      const selectedTherapy = therapies.find(t => t.name === formData.therapy || t._id === formData.therapy);\n      const bookingData = {\n        practitioner: formData.practitioner,\n        therapyType: formData.therapy,\n        date: formData.date,\n        time: formData.timeSlot,\n        duration: (selectedTherapy === null || selectedTherapy === void 0 ? void 0 : (_selectedTherapy$dura = selectedTherapy.durations) === null || _selectedTherapy$dura === void 0 ? void 0 : (_selectedTherapy$dura2 = _selectedTherapy$dura[0]) === null || _selectedTherapy$dura2 === void 0 ? void 0 : _selectedTherapy$dura2.minutes) || (selectedTherapy === null || selectedTherapy === void 0 ? void 0 : selectedTherapy.duration) || 60,\n        price: calculatePrice(),\n        notes: formData.notes\n      };\n      await api.post('/bookings', bookingData);\n      alert('Booking created successfully! The practitioner will be notified.');\n\n      // Trigger immediate refresh for real-time updates\n      window.dispatchEvent(new Event('bookingCreated'));\n      navigate('/patient');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Booking failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const isSlotAvailable = time => {\n    return Math.random() > 0.3;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(GlobalHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        title: \"Book Your Therapy Session\",\n        className: \"animate-slide-up\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Therapy Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"therapy\",\n              value: formData.therapy,\n              onChange: handleChange,\n              required: true,\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ayur-primary focus:border-transparent\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select Therapy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this), therapies.length > 0 ? therapies.map(therapy => {\n                var _therapy$durations2, _therapy$durations2$;\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: therapy.name,\n                  children: [therapy.name, \" - \\u20B9\", ((_therapy$durations2 = therapy.durations) === null || _therapy$durations2 === void 0 ? void 0 : (_therapy$durations2$ = _therapy$durations2[0]) === null || _therapy$durations2$ === void 0 ? void 0 : _therapy$durations2$.price) || therapy.price || 'Price not set']\n                }, therapy._id || therapy.name, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"option\", {\n                disabled: true,\n                children: \"Loading therapies...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), formData.therapy && ((_therapy$durations3, _therapy$durations3$) => {\n              const therapy = therapies.find(t => t.name === formData.therapy || t._id === formData.therapy);\n              return therapy ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 p-3 bg-ayur-light rounded-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-ayur-primary font-medium\",\n                  children: therapy.description || 'Traditional Ayurvedic therapy'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xs text-gray-600 mt-1\",\n                  children: [\"Duration: \", ((_therapy$durations3 = therapy.durations) === null || _therapy$durations3 === void 0 ? void 0 : (_therapy$durations3$ = _therapy$durations3[0]) === null || _therapy$durations3$ === void 0 ? void 0 : _therapy$durations3$.minutes) || therapy.duration || 60, \" minutes | Category: \", therapy.category || 'Ayurveda']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 19\n              }, this) : null;\n            })()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Preferred Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"date\",\n              value: formData.date,\n              onChange: handleChange,\n              required: true,\n              min: new Date().toISOString().split('T')[0],\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ayur-primary focus:border-transparent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-4\",\n              children: \"Select Practitioner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 lg:grid-cols-3 gap-4\",\n              children: practitioners.map(practitioner => {\n                var _practitioner$stats, _practitioner$stats2, _practitioner$stats3;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => {\n                    setFormData({\n                      ...formData,\n                      practitioner: practitioner._id\n                    });\n                    setSelectedPractitioner(practitioner);\n                  },\n                  className: `p-4 rounded-2xl border-2 cursor-pointer transition-all duration-300 ${formData.practitioner === practitioner._id ? 'border-ayur-primary bg-ayur-light shadow-md' : 'border-gray-200 hover:border-ayur-accent hover:shadow-sm'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-4xl mb-2\",\n                      children: \"\\uD83D\\uDC68\\u2695\\uFE0F\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 206,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"font-semibold text-ayur-primary\",\n                      children: practitioner.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-sm text-gray-600\",\n                      children: practitioner.specialization\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-2 text-sm\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-600\",\n                        children: \"Experience:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: [practitioner.experience || 0, \" years\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 213,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-600\",\n                        children: \"Fee:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 216,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: [\"\\u20B9\", practitioner.consultationFee || 1000]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 217,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 215,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-600\",\n                        children: \"Rating:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 220,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: [((_practitioner$stats = practitioner.stats) === null || _practitioner$stats === void 0 ? void 0 : _practitioner$stats.avgRating) > 0 ? practitioner.stats.avgRating.toFixed(1) : 'New', \" \", ((_practitioner$stats2 = practitioner.stats) === null || _practitioner$stats2 === void 0 ? void 0 : _practitioner$stats2.avgRating) > 0 ? '⭐' : '🆕']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-gray-600\",\n                        children: \"Patients:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-medium\",\n                        children: ((_practitioner$stats3 = practitioner.stats) === null || _practitioner$stats3 === void 0 ? void 0 : _practitioner$stats3.appointmentCount) || 0\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 223,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 mt-2\",\n                    children: practitioner.qualification\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this)]\n                }, practitioner._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 19\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Available Time Slots\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\",\n              children: (availableSlots.length > 0 ? availableSlots : TIME_SLOTS).map(time => {\n                const available = availableSlots.includes(time) || availableSlots.length === 0;\n                return /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => available && setFormData({\n                    ...formData,\n                    timeSlot: time\n                  }),\n                  disabled: !available || !selectedPractitioner,\n                  className: `p-3 rounded-lg border text-sm font-medium ${formData.timeSlot === time ? 'bg-ayur-primary text-white border-ayur-primary' : available && selectedPractitioner ? 'bg-white text-ayur-primary border-ayur-primary hover:bg-ayur-light' : 'bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed'}`,\n                  children: [time, !available && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-xs\",\n                    children: \"Booked\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 38\n                  }, this)]\n                }, time, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 21\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), !selectedPractitioner && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-2\",\n              children: \"Please select a practitioner first\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Additional Notes (Optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"notes\",\n              value: formData.notes,\n              onChange: handleChange,\n              rows: \"3\",\n              placeholder: \"Any specific requirements or health conditions to mention...\",\n              className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ayur-primary focus:border-transparent resize-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"w-full bg-ayur-primary hover:bg-ayur-secondary text-white py-4 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\",\n            disabled: loading || !formData.therapy || !formData.practitioner || !formData.date || !formData.timeSlot,\n            children: loading ? 'Booking...' : `Book Session - ₹${calculatePrice()}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GlobalFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(Booking, \"UT9ESkaXLa3X1sHcRlnW/b3ZFJY=\", false, function () {\n  return [useNavigate];\n});\n_c = Booking;\nexport default Booking;\nvar _c;\n$RefreshReg$(_c, \"Booking\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Card","GlobalHeader","GlobalFooter","TIME_SLOTS","api","jsxDEV","_jsxDEV","Booking","_s","navigate","formData","setFormData","therapy","practitioner","date","timeSlot","notes","selectedPractitioner","setSelectedPractitioner","practitioners","setPractitioners","therapies","setTherapies","availableSlots","setAvailableSlots","loading","setLoading","fetchPractitioners","fetchTherapies","fetchAvailableSlots","response","get","data","error","console","_response$data$data","log","therapiesData","name","price","description","calculatePrice","_therapy$durations","_therapy$durations$","find","t","_id","durations","handleSubmit","e","preventDefault","_selectedTherapy$dura","_selectedTherapy$dura2","appointmentData","selectedTherapy","bookingData","therapyType","time","duration","minutes","post","alert","window","dispatchEvent","Event","_error$response","_error$response$data","message","handleChange","target","value","isSlotAvailable","Math","random","className","children","fileName","_jsxFileName","lineNumber","columnNumber","title","onSubmit","onChange","required","length","map","_therapy$durations2","_therapy$durations2$","disabled","_therapy$durations3","_therapy$durations3$","category","type","min","Date","toISOString","split","_practitioner$stats","_practitioner$stats2","_practitioner$stats3","onClick","specialization","experience","consultationFee","stats","avgRating","toFixed","appointmentCount","qualification","available","includes","rows","placeholder","_c","$RefreshReg$"],"sources":["c:/Users/AMAN MAURYA/OneDrive/Desktop/now/src/pages/Booking.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Card from '../components/common/Card';\nimport GlobalHeader from '../components/common/GlobalHeader';\nimport GlobalFooter from '../components/common/GlobalFooter';\nimport { TIME_SLOTS } from '../constants';\nimport api from '../services/api';\n\nconst Booking = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    therapy: '',\n    practitioner: '',\n    date: '',\n    timeSlot: '',\n    notes: ''\n  });\n  const [selectedPractitioner, setSelectedPractitioner] = useState(null);\n  const [practitioners, setPractitioners] = useState([]);\n  const [therapies, setTherapies] = useState([]);\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchPractitioners();\n    fetchTherapies();\n  }, []);\n\n  useEffect(() => {\n    if (formData.practitioner && formData.date) {\n      fetchAvailableSlots();\n    }\n  }, [formData.practitioner, formData.date]);\n\n  const fetchPractitioners = async () => {\n    try {\n      const response = await api.get('/practitioners');\n      setPractitioners(response.data.data.practitioners);\n    } catch (error) {\n      console.error('Error fetching practitioners:', error);\n    }\n  };\n\n  const fetchTherapies = async () => {\n    try {\n      const response = await api.get('/therapies');\n      console.log('Therapies response:', response.data);\n      \n      // Handle different response structures\n      const therapiesData = response.data.data?.therapies || response.data.therapies || response.data || [];\n      setTherapies(therapiesData);\n    } catch (error) {\n      console.error('Error fetching therapies:', error);\n      // Set default therapies if API fails\n      setTherapies([\n        { name: 'Abhyanga', price: 2500, description: 'Full body oil massage' },\n        { name: 'Shirodhara', price: 3000, description: 'Oil pouring therapy' },\n        { name: 'Panchakarma', price: 5000, description: 'Complete detox program' }\n      ]);\n    }\n  };\n\n  const fetchAvailableSlots = async () => {\n    try {\n      const response = await api.get(`/practitioners/available-slots?practitionerId=${formData.practitioner}&date=${formData.date}`);\n      setAvailableSlots(response.data.data.availableSlots);\n    } catch (error) {\n      console.error('Error fetching available slots:', error);\n      setAvailableSlots(TIME_SLOTS); // Fallback to all slots\n    }\n  };\n\n  const calculatePrice = () => {\n    const therapy = therapies.find(t => t.name === formData.therapy || t._id === formData.therapy);\n    return therapy ? (therapy.durations?.[0]?.price || therapy.price || 0) : 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    try {\n      const appointmentData = {\n        practitioner: formData.practitioner,\n        therapy: formData.therapy,\n        date: formData.date,\n        timeSlot: formData.timeSlot,\n        notes: formData.notes\n      };\n\n      const selectedTherapy = therapies.find(t => t.name === formData.therapy || t._id === formData.therapy);\n      const bookingData = {\n        practitioner: formData.practitioner,\n        therapyType: formData.therapy,\n        date: formData.date,\n        time: formData.timeSlot,\n        duration: selectedTherapy?.durations?.[0]?.minutes || selectedTherapy?.duration || 60,\n        price: calculatePrice(),\n        notes: formData.notes\n      };\n\n      await api.post('/bookings', bookingData);\n      alert('Booking created successfully! The practitioner will be notified.');\n      \n      // Trigger immediate refresh for real-time updates\n      window.dispatchEvent(new Event('bookingCreated'));\n      \n      navigate('/patient');\n    } catch (error) {\n      alert(error.response?.data?.message || 'Booking failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const isSlotAvailable = (time) => {\n    return Math.random() > 0.3;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <GlobalHeader />\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n\n        \n        <Card title=\"Book Your Therapy Session\" className=\"animate-slide-up\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Therapy Type\n              </label>\n              <select\n                name=\"therapy\"\n                value={formData.therapy}\n                onChange={handleChange}\n                required\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ayur-primary focus:border-transparent\"\n              >\n                <option value=\"\">Select Therapy</option>\n                {therapies.length > 0 ? therapies.map(therapy => (\n                  <option key={therapy._id || therapy.name} value={therapy.name}>\n                    {therapy.name} - ₹{therapy.durations?.[0]?.price || therapy.price || 'Price not set'}\n                  </option>\n                )) : (\n                  <option disabled>Loading therapies...</option>\n                )}\n              </select>\n              {formData.therapy && (() => {\n                const therapy = therapies.find(t => t.name === formData.therapy || t._id === formData.therapy);\n                return therapy ? (\n                  <div className=\"mt-2 p-3 bg-ayur-light rounded-lg\">\n                    <p className=\"text-sm text-ayur-primary font-medium\">\n                      {therapy.description || 'Traditional Ayurvedic therapy'}\n                    </p>\n                    <p className=\"text-xs text-gray-600 mt-1\">\n                      Duration: {therapy.durations?.[0]?.minutes || therapy.duration || 60} minutes | \n                      Category: {therapy.category || 'Ayurveda'}\n                    </p>\n                  </div>\n                ) : null;\n              })()}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Preferred Date\n              </label>\n              <input\n                type=\"date\"\n                name=\"date\"\n                value={formData.date}\n                onChange={handleChange}\n                required\n                min={new Date().toISOString().split('T')[0]}\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ayur-primary focus:border-transparent\"\n              />\n            </div>\n\n            {/* Practitioner Selection */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-4\">\n                Select Practitioner\n              </label>\n              <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {practitioners.map(practitioner => (\n                  <div\n                    key={practitioner._id}\n                    onClick={() => {\n                      setFormData({...formData, practitioner: practitioner._id});\n                      setSelectedPractitioner(practitioner);\n                    }}\n                    className={`p-4 rounded-2xl border-2 cursor-pointer transition-all duration-300 ${\n                      formData.practitioner === practitioner._id\n                        ? 'border-ayur-primary bg-ayur-light shadow-md'\n                        : 'border-gray-200 hover:border-ayur-accent hover:shadow-sm'\n                    }`}\n                  >\n                    <div className=\"text-center mb-3\">\n                      <div className=\"text-4xl mb-2\">👨⚕️</div>\n                      <h4 className=\"font-semibold text-ayur-primary\">{practitioner.name}</h4>\n                      <p className=\"text-sm text-gray-600\">{practitioner.specialization}</p>\n                    </div>\n                    <div className=\"space-y-2 text-sm\">\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600\">Experience:</span>\n                        <span className=\"font-medium\">{practitioner.experience || 0} years</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600\">Fee:</span>\n                        <span className=\"font-medium\">₹{practitioner.consultationFee || 1000}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600\">Rating:</span>\n                        <span className=\"font-medium\">{practitioner.stats?.avgRating > 0 ? practitioner.stats.avgRating.toFixed(1) : 'New'} {practitioner.stats?.avgRating > 0 ? '⭐' : '🆕'}</span>\n                      </div>\n                      <div className=\"flex justify-between\">\n                        <span className=\"text-gray-600\">Patients:</span>\n                        <span className=\"font-medium\">{practitioner.stats?.appointmentCount || 0}</span>\n                      </div>\n                    </div>\n                    <p className=\"text-xs text-gray-500 mt-2\">{practitioner.qualification}</p>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Available Time Slots\n              </label>\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3\">\n                {(availableSlots.length > 0 ? availableSlots : TIME_SLOTS).map(time => {\n                  const available = availableSlots.includes(time) || availableSlots.length === 0;\n                  return (\n                    <button\n                      key={time}\n                      type=\"button\"\n                      onClick={() => available && setFormData({...formData, timeSlot: time})}\n                      disabled={!available || !selectedPractitioner}\n                      className={`p-3 rounded-lg border text-sm font-medium ${\n                        formData.timeSlot === time\n                          ? 'bg-ayur-primary text-white border-ayur-primary'\n                          : available && selectedPractitioner\n                          ? 'bg-white text-ayur-primary border-ayur-primary hover:bg-ayur-light'\n                          : 'bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed'\n                      }`}\n                    >\n                      {time}\n                      {!available && <div className=\"text-xs\">Booked</div>}\n                    </button>\n                  );\n                })}\n              </div>\n              {!selectedPractitioner && (\n                <p className=\"text-sm text-gray-500 mt-2\">Please select a practitioner first</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Additional Notes (Optional)\n              </label>\n              <textarea\n                name=\"notes\"\n                value={formData.notes}\n                onChange={handleChange}\n                rows=\"3\"\n                placeholder=\"Any specific requirements or health conditions to mention...\"\n                className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ayur-primary focus:border-transparent resize-none\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              className=\"w-full bg-ayur-primary hover:bg-ayur-secondary text-white py-4 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\"\n              disabled={loading || !formData.therapy || !formData.practitioner || !formData.date || !formData.timeSlot}\n            >\n              {loading ? 'Booking...' : `Book Session - ₹${calculatePrice()}`}\n            </button>\n          </form>\n        </Card>\n      </div>\n      <GlobalFooter />\n    </div>\n  );\n};\n\nexport default Booking;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}